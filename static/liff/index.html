<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡©çˆºã®éƒ¨å±‹</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f3f4f6;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            touch-action: manipulation;
        }
        .shiojii-bg {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .btn-premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transition: transform 0.1s;
        }
        .btn-premium:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body class="shiojii-bg min-h-screen flex flex-col items-center p-4">

    <!-- Shiojii Header -->
    <div class="glass-panel w-full max-w-md p-6 mb-6 text-center relative overflow-hidden">
        <div class="absolute -top-4 -right-4 w-24 h-24 bg-pink-300 rounded-full opacity-50 blur-xl"></div>
        <div class="relative z-10">
            <h1 class="text-2xl font-bold text-gray-800 mb-2">å¡©çˆºã®ç§˜å¯†ã®éƒ¨å±‹â™¡</h1>
            <p id="shiojii-msg" class="text-gray-600 italic">ã€Œã‚ã‚‰ã€ã¾ãŸæ¥ãŸã®ï¼Ÿ<br>æš‡äººãªã®ã­ã‡ï½â™¡ã€</p>
        </div>
    </div>

    <!-- Menu Grid -->
    <div class="grid grid-cols-2 gap-4 w-full max-w-md">
        
        <!-- Gacha -->
        <div onclick="location.href='/liff/gacha'" class="glass-panel p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white transition h-32">
            <span class="text-4xl mb-2">ğŸ°</span>
            <span class="font-bold text-gray-700">ã‚¬ãƒãƒ£</span>
            <span class="text-xs text-gray-500 mt-1">æ•£è²¡ã—ã¡ã‚ƒãˆâ™¡</span>
        </div>

        <!-- Inventory -->
        <div onclick="location.href='/liff/inventory'" class="glass-panel p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white transition h-32">
            <span class="text-4xl mb-2">ğŸ’</span>
            <span class="font-bold text-gray-700">ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª</span>
            <span class="text-xs text-gray-500 mt-1">è£…å‚™å¤‰ãˆã‚‹ï¼Ÿ</span>
        </div>

        <!-- Trade -->
        <div onclick="location.href='/liff/trade'" class="glass-panel p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white transition h-32">
            <span class="text-4xl mb-2">ğŸ¤</span>
            <span class="font-bold text-gray-700">ãƒˆãƒ¬ãƒ¼ãƒ‰</span>
            <span class="text-xs text-gray-500 mt-1">ã‚«ãƒ¢ã«ã™ã‚‹ã®ï¼Ÿ</span>
        </div>

        <!-- Status/Misc -->
        <div class="glass-panel p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-white transition h-32 opacity-75">
            <span class="text-4xl mb-2">ğŸ“Š</span>
            <span class="font-bold text-gray-700">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</span>
            <span class="text-xs text-gray-500 mt-1">ï¼ˆæº–å‚™ä¸­ã‚ˆï¼‰</span>
        </div>

    </div>

    <!-- Footer -->
    <div class="mt-8 text-center text-gray-500 text-sm">
        <p>User ID: <span id="user-id">Loading...</span></p>
    </div>

    <script>
        // LIFF Initialization
        async function main() {
            try {
                await liff.init({ liffId: "{{ liff_id }}" });
                if (liff.isLoggedIn()) {
                    const profile = await liff.getProfile();
                    document.getElementById('user-id').textContent = profile.userId.substring(0, 8) + '...';
                } else {
                    document.getElementById('user-id').textContent = 'Guest';
                    // For dev/browser testing without LIFF
                    if (!liff.isInClient()) {
                        console.log("Not in LINE client");
                    }
                }
            } catch (err) {
                console.error('LIFF Init failed', err);
                document.getElementById('user-id').textContent = 'Error';
            }
        }
        main();

        // Shiojii Random Talk
        const messages = [
            "ã€Œã‚ã‚‰ã€ã¾ãŸæ¥ãŸã®ï¼Ÿ<br>æš‡äººãªã®ã­ã‡ï½â™¡ã€",
            "ã€Œãã‚“ãªè£…å‚™ã§å¤§ä¸ˆå¤«ï¼Ÿ<br>ã‚¶ã‚³ç¢ºå®šã­ï½—ã€",
            "ã€Œã­ã‡ã€ã‚‚ã£ã¨èª²é‡‘ã—ã¦<br>ç§ã‚’æ¥½ã•ã›ã¦ã‚ˆï½ã€",
            "ã€Œæ ªã§æã—ãŸã®ï¼Ÿ<br>ãƒ¡ã‚·ã‚¦ãƒï½â™¡ã€"
        ];
        document.getElementById('shiojii-msg').innerHTML = messages[Math.floor(Math.random() * messages.length)];
    </script>
</body>
</html>
